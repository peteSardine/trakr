<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Trakr App</title>

<script>
    var isDev=true;
    var sardineHost = isDev ? 'api.dev.sardine.ai' : 'api.sardine.ai';//please set isDev to true in Dev
    (function () {
        var loader = document.createElement('script');
        loader.type = 'text/javascript';
        loader.async = true;
        loader.src = `https://${sardineHost}/assets/loader.min.js`;
        loader.onload = function() {
            sardineContext = window._Sardine.createContext({
                clientId: "f70da198-6faf-49dd-97c9-33bb406a10c8", //CHANGE THIS
                sessionKey: "1111", // Please CHANGE this to  pass server side generated sessionKey and you will need this again for back-end  API call
                userIdHash:"12345", //CHANGE this to pass internal userId or hash of email/phone. Dont pass it if its not available.
                flow: location.pathname,
                environment: isDev ? "development" : "production",
                parentElement: document.body,
                // called when sardine generates/restores deviceID for given device. 
                onDeviceResponse: function(data) {
                    console.log(`sardine's deviceID is ${data.deviceId}`);
                }
            });
            console.log(`sardine context generated: ${sardineContext}`);
        };
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(loader, s);
    })();
</script>

</head>
<body>

    <nav class="nav">
        <a href="/" class="nav__link" data-link>Dashboard</a>
    </nav>

    <div id="app"></div>

    <script type="module" src="static/js/index.js"></script> 

    <noscript>
        <img 
          src="https://<REPLACE-ME>/v1/a.png?clientId=<REPLACE-ME>&sessionKey=<REPLACE-ME>&flow=<REPLACE-ME>&ns=1" 
          style="display: none" />
      </noscript>

</body>